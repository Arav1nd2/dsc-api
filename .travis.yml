language: node_js
node_js:
- v10
- node
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-4.8
    - g++-4.8
script:
  - npm test -- -i --coverage
env:
  global:
  - CXX=g++-4.8
  - MASTER_KEY=masterKey
  - JWT_SECRET=jwtSecret
  - DB_UNAME=admin
  - DB_PASS=password
branches:
  only:
  - master
deploy:
  provider: heroku
  api_key:
    secure: u1aJmMEcI248utN82HLeMFltmLThrAc9hE8DIDAsvtN4tGIaxpF78PgHCHx3e5wY5xZm+lTqKaFpBZ7NvV8ijdAuFtgxlRPmMxmMLUOjlT1IKMJzYPa0UaSygxJMs7/1RZgBh69iWndfZZy+QC3FmVbFNmTZX4RH/heUHbuS8EKmHTG2yxFO/kvCDEm011/dhVjToa1Ca4CMRN4XDjW5cS/yvfxxv1jwUquzjAuDjXaF14vZQlL/5HwJHnao9DWe15T8kVdmcE1vSrDQU5vr9sxiOcpBC3W6exPaNCsGPs5amTHHQFt+MuBxz3/VWXS/ku3g9L1cbizIvk7sKZlkvDxLGlcC6u020+Hn6fGjod+pXCo7k4iLGvD1c1q2G9Y/JXbclLpkwXQqeF9LBibK36BXI+3OibRipiMlvIhrW30E+QtARwRQVY/mS0OaNhzOR4XD/xtDP3jF9L5/D/l/mOU9SVWWdiRHroZ7QoTJmAlIsVhQdoJ6Sp/jj/STDDJY43Tt9hnKiVx22y6YWgXkqfK032n3nQFHP197XYBTxUtzlwOTwvqqp/F1LBiFeVWmmg70T46RraVrRftD0lHzCoCQVK4w3S0wfAxx+cCm7zFtepIpIUbB7hzxr0Imlrz6ln5YwZO2eaAv37bQ5Xeq7E2KCJDT/Ybw2GfADPxmRF4=
